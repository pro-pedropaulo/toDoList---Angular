<div class="tasks-container">
  <div class="input-group">
    <input [(ngModel)]="newTask" placeholder="Adicione uma tarefa">
    <button class="btn-add" (click)="addTask()">Adicionar Tarefa</button>
  </div>

  <ul>
    <li *ngFor="let task of tasks; let i = index" class="task-item">
      <div class="task-content">
        <span class="task-name" [class.completed]="task.completed">{{ task.name }}</span>
        <span class="task-date">{{ task.timestamp | date:'dd/MM/yy HH:mm' }}</span>
      </div>
      <div class="task-actions">
        <button class="btn-complete" (click)="toggleCompletion(i)">Concluir</button>
        <button class="btn-delete" (click)="confirmDelete(i)">Excluir</button>
        <button (click)="startTimer(task)">Iniciar Cronômetro</button>
        <button (click)="stopTimer(task)">Parar Cronômetro</button>
        <span *ngIf="task.elapsedTime" class="timer">{{ formatTime(task.elapsedTime) }}</span>
      </div>
    </li>
  </ul>
</div>

<div class="modal" [class.show-modal]="showModal">
  <div class="modal-content">
    <div class="modal-header">
      <h2>Confirmação</h2>
      <span class="close-button" (click)="closeModal()">&times;</span>
    </div>
    <div class="modal-body">
      <p>Tem certeza de que deseja excluir esta tarefa?</p>
    </div>
    <div class="modal-footer">
      <button class="btn-delete" (click)="deleteTask()">Sim</button>
      <button class="btn-cancel" (click)="closeModal()">Não</button>
    </div>
  </div>
</div>
